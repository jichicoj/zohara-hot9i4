<ion-header #header class="ion-no-border">
  <ion-toolbar>
    <ion-row>
      <ion-col size="10" class="logo-container">
        <img class="logo" src="assets/icon/favicon.png" alt="logo">
      </ion-col>
      <ion-col size="2" class="button-container">
        <ion-button fill="clear" class="log-out" (click)="openLogOut()">
          <ion-icon slot="icon-only" name="log-out"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" scroll-events="true" [appHeader]="header">
  <div class="spotlight" [style.background-image]="'url('+ movie.poster +')'">
    <div class="gradient"></div>

    <div class="info">
      <span class="title">{{movie.title}}</span>
      <ion-row class="ion-align-items-center">
        <ion-col size="2" class="ion-text-center"></ion-col>
        <ion-col size="8" class="ion-text-center">
          <ion-button expand="block" (click)="goToMovie(movie.tmdbId)">
            <ion-icon slot="icon-only" name="filter"></ion-icon>
          </ion-button>
        </ion-col>
        <ion-col size="2" class="ion-text-center"></ion-col>
      </ion-row>
    </div>

    <div *ngIf="favorites.length > 0">
      <ion-row>
        <ion-col size="4">
          <span class="section-title">Favorites</span>
        </ion-col>
        <ion-col size="8">
          <div style="background-color: #da9bde; height: 1vh" ></div>
        </ion-col>
      </ion-row>
      <ion-slides [options]="options">
        <ion-slide *ngFor="let movie of favorites" (click)="goToMovie(movie.tmdbId)">
          <ion-grid>
            <ion-row>
              <ion-col size="12" class="poster-col" [style.background-image]="'url('+ movie.poster +')'">
              </ion-col>
              <ion-col size="12">
                <h5 class="ion-no-margin">{{movie.title}}</h5>
                <p class="ion-no-margin rate">
                  <ion-icon name="star"></ion-icon> {{movie.imdbRating}}
                </p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-slide>
      </ion-slides>
    </div>

    <div *ngFor="let genre of gnres">
      <ion-row>
        <ion-col size="4">
          <span class="section-title">{{genre.name}}</span>
        </ion-col>
        <ion-col size="8">
          <div style="background-color: #da9bde; height: 1vh" ></div>
        </ion-col>
      </ion-row>
      <ion-slides [options]="options">
        <ion-slide *ngFor="let movie of genre.movies" (click)="goToMovie(movie.tmdbId)">
          <ion-grid>
            <ion-row>
              <ion-col size="12" class="poster-col" [style.background-image]="'url('+ movie.poster +')'">
              </ion-col>
              <ion-col size="12">
                <h5 class="ion-no-margin">{{movie.title}}</h5>
                <p class="ion-no-margin rate">
                  <ion-icon name="star"></ion-icon> {{movie.imdbRating}}
                </p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-slide>
      </ion-slides>
    </div>
  </div>
</ion-content>
